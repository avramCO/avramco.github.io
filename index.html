<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hop2Top</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap');
    :root {
      --bg-dark: #05030a;
      --text: #f6f5ff;
      --muted: rgba(246, 245, 255, 0.75);
      --panel-bg: rgba(18, 12, 30, 0.85);
      --border: rgba(255, 255, 255, 0.12);
      --card: rgba(20, 14, 34, 0.9);
      --accent: linear-gradient(90deg, #6a5bff, #c26dff);
      --pill: rgba(255, 255, 255, 0.08);
      --blue: #30c1ff;
    }

    * {
      box-sizing: border-box;
    }
    [hidden] {
      display: none !important;
    }

    body {
      font-family: 'Space Grotesk', sans-serif;
      min-height: 100vh;
      margin: 0;
      color: var(--text);
      background: radial-gradient(circle at 20% 20%, #211947, transparent 40%),
                  radial-gradient(circle at 80% 0%, #522d8a, transparent 45%),
                  radial-gradient(circle at 50% 100%, #1c2c5d, transparent 40%),
                  #05030a;
      padding: 2rem;
      display: flex;
      justify-content: center;
    }

    .app-shell {
      width: min(1280px, 100%);
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .status-banner {
      background: var(--panel-bg);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 1.5rem 2rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1.5rem;
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.35);
    }

    .status-copy {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .status-dot {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: #50f18a;
      box-shadow: 0 0 12px rgba(80, 241, 138, 0.8);
    }

    .status-text h1 {
      margin: 0;
      font-size: 1.4rem;
    }

    .status-text p {
      margin: 0;
      color: var(--muted);
      font-size: 0.9rem;
    }

    .banner-actions {
      display: flex;
      gap: 0.75rem;
    }

    button {
      border: none;
      border-radius: 999px;
      padding: 0.85rem 1.7rem;
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    button:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.35);
    }

    button:disabled {
      opacity: 0.45;
      cursor: not-allowed;
    }

    .primary.solid {
      background: var(--accent);
      color: #0b0415;
    }

    .primary.outlined {
      background: transparent;
      color: var(--text);
      border: 1px solid var(--border);
    }

    .primary.ghost {
      background: rgba(255,255,255,0.1);
      color: var(--text);
    }

    .studio-layout {
      display: grid;
      grid-template-columns: 1.1fr 1fr 0.8fr;
      gap: 1.5rem;
    }

    .card {
      background: var(--panel-bg);
      border: 1px solid var(--border);
      border-radius: 26px;
      padding: 1.75rem;
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
      box-shadow: 0 25px 60px rgba(0, 0, 0, 0.35);
    }

    .preview-panel {
      gap: 1rem;
    }

    .preview-frame {
      background: rgba(0,0,0,0.35);
      border-radius: 22px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.07);
    }

    .preview-video {
      position: relative;
      height: 420px;
      background: radial-gradient(circle at 30% 20%, rgba(255,255,255,0.08), transparent 60%),
                  rgba(10, 7, 18, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 22px;
      overflow: hidden;
    }

    .preview-video video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: none;
    }

    .preview-video video.ready {
      display: block;
    }

    .preview-placeholder {
      text-align: center;
      color: var(--muted);
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      background: rgba(5, 3, 10, 0.25);
    }

    .preview-placeholder.hidden {
      display: none;
    }

    .preview-placeholder .play-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 46px;
      height: 46px;
      border-radius: 50%;
      background: rgba(255,255,255,0.18);
      margin-bottom: 0.75rem;
    }

    .preview-timeline {
      height: 6px;
      background: rgba(255,255,255,0.08);
    }

    .preview-meta {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 1rem;
    }

    .preview-details {
      color: var(--muted);
      font-size: 0.95rem;
      line-height: 1.5;
    }

    .chip {
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.05);
      color: var(--text);
      font-size: 0.85rem;
      padding: 0.5rem 1.25rem;
      cursor: pointer;
    }

    .upload-panel h2 {
      margin: 0;
      font-size: 1.2rem;
    }

    .panel-eyebrow {
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--muted);
      font-size: 0.8rem;
    }

    .creator-card {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      padding: 1rem;
      border: 1px solid var(--border);
      border-radius: 18px;
      background: rgba(255,255,255,0.02);
    }

    .creator-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .subhead {
      color: var(--muted);
      margin: 0;
      font-size: 0.95rem;
    }

    .field-group {
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
    }

    .field-group label {
      color: var(--muted);
      font-size: 0.9rem;
    }

    input[type="text"] {
      background: rgba(255,255,255,0.07);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 0.9rem 1rem;
      font-size: 1rem;
      color: var(--text);
    }

    select {
      background: rgba(255,255,255,0.07);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 0.85rem 1rem;
      color: var(--text);
      font-size: 1rem;
    }

    .privacy-hint {
      font-size: 0.85rem;
      color: var(--muted);
      margin: 0;
    }

    .interaction-row {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .interaction-option {
      display: flex;
      align-items: center;
      gap: 0.35rem;
      color: var(--muted);
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 46px;
      height: 24px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(255,255,255,0.15);
      transition: .3s;
      border-radius: 34px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 4px;
      bottom: 3px;
      background-color: #05030a;
      border-radius: 50%;
      transition: .3s;
    }

    .switch input:checked + .slider {
      background: var(--accent);
    }

    .switch input:checked + .slider:before {
      transform: translateX(20px);
    }

    .status-area {
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
      font-size: 0.9rem;
      color: var(--muted);
    }

    #status {
      font-weight: 600;
      color: var(--text);
    }

    .upload-actions {
      display: flex;
      justify-content: flex-end;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .disclosure-panel h3 {
      margin: 0;
      font-size: 1.05rem;
    }

    .disclosure-panel .info-text {
      margin: 0;
      color: var(--muted);
      font-size: 0.92rem;
    }

    .commercial-prompt {
      margin: 0;
      font-weight: 600;
      color: var(--text);
    }

    .alert {
      color: #ff8585;
      font-size: 0.9rem;
      margin: 0;
    }

    .consent,
    .toggle,
    .commercial-options label {
      color: var(--muted);
    }

    .consent {
      display: flex;
      gap: 0.65rem;
      align-items: flex-start;
      font-weight: 600;
      color: var(--text);
    }

    .policy-link {
      color: #FE2C55;
      text-decoration: none;
      font-weight: 600;
    }

    .policy-link:hover {
      text-decoration: underline;
    }

    ul.requirements {
      padding-left: 1rem;
      margin: 0;
      color: var(--muted);
      line-height: 1.5;
    }

    .success-panel {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(5, 3, 10, 0.85);
      backdrop-filter: blur(10px);
      z-index: 1000;
      padding: 2rem;
    }

    .success-modal {
      background: var(--panel-bg);
      border: 1px solid var(--border);
      border-radius: 28px;
      padding: 2.5rem;
      max-width: 420px;
      text-align: center;
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.6);
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .success-modal h1 {
      margin: 0;
      font-size: 1.6rem;
      text-transform: uppercase;
      color: #b5ffdc;
    }

    .success-modal p {
      color: var(--muted);
      margin: 0;
    }

    .requirements-card {
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 1.25rem;
      background: rgba(255,255,255,0.02);
    }

    @media (max-width: 1100px) {
      .studio-layout {
        grid-template-columns: 1fr;
      }
      .status-banner {
        flex-direction: column;
        align-items: flex-start;
      }
      .banner-actions {
        width: 100%;
        justify-content: flex-start;
        flex-wrap: wrap;
      }
      .upload-actions {
        justify-content: stretch;
      }
      .upload-actions button {
        flex: 1;
      }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <header class="status-banner">
      <div class="status-copy">
        <span class="status-dot"></span>
         <div class="status-text">
          <h1 id="statusHeading">Hop2Top - generate random educational quiz video</h1>
        </div>
        <div class="status-text">
          <h1 id="statusHeading">Hop2Top - generate random educational quiz video</h1>
        </div>
       
      
      </div>
      <div class="banner-actions">
        <button id="loginBtn" class="primary outlined">Login with TikTok</button>
        <button id="generateBtn" class="primary ghost">Generate Video</button>
      </div>
    </header>

    <main id="workflowPanel" class="studio-layout">
      <section id="previewSection" class="card preview-panel" hidden>
        <div class="preview-frame">
          <div class="preview-video">
            <video id="previewVideo" playsinline controls muted></video>
            <div id="previewFallback" class="preview-placeholder">
              <span class="play-icon">▶</span>
              <p>Select or generate a video to see the preview.</p>
            </div>
          </div>
          <div class="preview-timeline"></div>
        </div>
        <div class="preview-meta">
          <div id="previewDetails" class="preview-details">
            Generate or select a video to see file metadata.
          </div>
          <button class="chip" id="refreshPreview" type="button">Refresh preview</button>
        </div>
      </section>

      <section>
        <p class="subhead">Posting as</p>
        <strong id="creatorNickname">...</strong>
        <p id="creatorAccountMeta"></p>
      </section>

      <section class="card upload-panel">
        <div class="panel-heading">
          <span class="panel-eyebrow">Upload to TikTok</span>
          <h2>Review metadata & publish</h2>
        </div>

        <section id="creatorSection" class="creator-card" hidden>
          <div class="creator-meta">
            <div>
              
              <p id="creatorAccountMeta"></p>
            </div>
          </div>
        </section>

        <div class="field-group">
          <label for="videoTitle">Caption</label>
          <input
            id="videoTitle"
            type="text"
            placeholder="Add a title that describes your video"
            required
          >
          <p class="privacy-hint">You can edit this text and remove any preset hashtags before publishing.</p>
        </div>

        <div id="privacyOptionsArea" class="field-group">
          <label for="privacySelect">Who can view this video</label>
          <select id="privacySelect" class="privacy-select" disabled>
            <option value="" disabled selected hidden>Select privacy status</option>
          </select>
        </div>

        <div id="interactionControls" class="field-group">
          <label>Allow users to</label>
          <div class="interaction-row">
            <label class="interaction-option">
              <input type="checkbox" id="allowComments">
              Comment
            </label>
            <label class="interaction-option">
              <input type="checkbox" id="allowDuet">
              Duet
            </label>
            <label class="interaction-option">
              <input type="checkbox" id="allowStitch">
              Stitch
            </label>
          </div>
        </div>

        <div class="status-area">
          <p>After you finish publishing, TikTok may take a few minutes to process your video.</p>
          <div id="status">Ready.</div>
        </div>

        <div class="upload-actions">
          <button id="uploadBtn" class="primary solid">Upload Video</button>
        </div>
      </section>

      <section class="card disclosure-panel">
        <section id="commercialSection">
          <div class="panel-card-row" style="justify-content: space-between; align-items:center;">
            <div>
              <h3>Disclose video content</h3>
              <p class="info-text">
                Turn on disclosure if this upload promotes goods or services.
              </p>
            </div>
            <label class="switch">
              <input type="checkbox" id="commercialToggle">
              <span class="slider"></span>
            </label>
          </div>
          <div id="commercialOptions" class="commercial-options" hidden>
            <label>
              <input type="checkbox" id="commercialSelf">
              <span>
                <strong>Your brand</strong> · You are promoting yourself or your own business. This video will be classified as Brand Organic.
              </span>
            </label>
            <label>
              <input type="checkbox" id="commercialBrand">
              <span>
                <strong>Branded content</strong> · You are promoting another brand or third party. This video will be classified as Branded Content.
              </span>
            </label>
            <p id="commercialPrompt" class="commercial-prompt" aria-live="polite"></p>
            <p id="commercialAlert" class="alert"></p>
          </div>
        </section>

        <section class="panel-card" id="consentCard" style="background: transparent; border:none; padding:0; gap:1rem;">
          <label class="consent">
            <input type="checkbox" id="musicConsent">
            <span id="consentText">
              By posting, you agree to TikTok's
              <a href="https://www.tiktok.com/legal/page/global/music-usage-confirmation/en" class="policy-link" target="_blank" rel="noopener noreferrer">Music Usage Confirmation</a>.
            </span>
          </label>
          <label class="consent">
            <input type="checkbox" id="privateAccountConfirm">
            My TikTok profile is private and I will keep visibility set to “Only You”.
          </label>
        </section>

        
      </section>
    </main>

    <section id="successPanel" class="success-panel" hidden>
      <div class="success-modal">
        <h1>Upload initiated</h1>
        <p>Please allow a few minutes for TikTok to finish processing. Once complete, you can view the video on your channel’s private tab.</p>
        <button id="homeBtn" class="primary solid">Return to homepage</button>
      </div>
    </section>
  </div>

  <script src="config.js"></script>
  <script src="app.js"></script>
</body>
</html>
