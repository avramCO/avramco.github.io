<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hop2Top • TikTok Uploader</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap');
    :root {
      --bg-dark: #05030a;
      --text: #f6f5ff;
      --muted: rgba(246, 245, 255, 0.75);
      --panel-bg: rgba(18, 12, 30, 0.85);
      --border: rgba(255, 255, 255, 0.12);
      --accent: linear-gradient(90deg, #6a5bff, #c26dff);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      font-family: 'Space Grotesk', sans-serif;
      background: radial-gradient(circle at 20% 20%, #211947, transparent 40%),
                  radial-gradient(circle at 80% 0%, #522d8a, transparent 45%),
                  radial-gradient(circle at 50% 100%, #1c2c5d, transparent 40%),
                  var(--bg-dark);
      color: var(--text);
      display: flex;
      justify-content: center;
      padding: 2rem;
    }
    .app-shell {
      width: min(1280px, 100%);
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }
    .status-banner {
      background: var(--panel-bg);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 1.5rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1.5rem;
      box-shadow: 0 30px 60px rgba(0,0,0,0.35);
    }
    .status-copy { display: flex; align-items: center; gap: 1rem; }
    .status-dot {
      width: 14px; height: 14px; border-radius: 50%;
      background: #50f18a; box-shadow: 0 0 12px rgba(80, 241, 138, 0.8);
    }
    .banner-actions { display: flex; gap: 0.75rem; }
    button {
      border: none;
      border-radius: 999px;
      padding: 0.85rem 1.7rem;
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
    }
    .primary.outlined {
      background: transparent;
      color: var(--text);
      border: 1px solid var(--border);
    }
    .primary.ghost {
      background: rgba(255,255,255,0.1);
      color: var(--text);
    }
    .studio-layout {
      display: grid;
      grid-template-columns: 1.1fr 1fr 0.8fr;
      gap: 1.5rem;
    }
    .card {
      background: var(--panel-bg);
      border: 1px solid var(--border);
      border-radius: 26px;
      padding: 1.75rem;
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
      box-shadow: 0 25px 60px rgba(0,0,0,0.35);
    }
    .preview-video {
      position: relative;
      height: 420px;
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,0.08);
      background: radial-gradient(circle at 30% 20%, rgba(255,255,255,0.08), transparent 60%),
                  rgba(10,7,18,0.9);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .preview-placeholder {
      text-align: center;
      color: var(--muted);
    }
    .preview-placeholder span {
      display: inline-flex;
      width: 46px;
      height: 46px;
      border-radius: 50%;
      align-items: center;
      justify-content: center;
      background: rgba(255,255,255,0.15);
      margin-bottom: 0.5rem;
    }
    input, select {
      width: 100%;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.15);
      background: rgba(255,255,255,0.06);
      color: var(--text);
      padding: 0.85rem 1rem;
      font-size: 1rem;
    }
    label { color: rgba(255,255,255,0.75); font-size: 0.9rem; }
    .interaction-row {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      color: rgba(255,255,255,0.75);
      font-size: 0.9rem;
    }
    .interaction-row input { width: auto; }
    .status-area { font-size: 0.9rem; color: rgba(255,255,255,0.7); }
    .status-area #status { color: var(--text); font-weight: 600; }
    .disclosure-panel .info-text { color: rgba(255,255,255,0.65); font-size: 0.92rem; margin: 0; }
    .commercial-toggle {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }
    .success-panel {
      position: fixed;
      inset: 0;
      background: rgba(5,3,10,0.85);
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 100;
      padding: 2rem;
    }
    .success-panel.show { display: flex; }
    .success-modal {
      background: var(--panel-bg);
      border: 1px solid var(--border);
      border-radius: 28px;
      padding: 2.5rem;
      text-align: center;
      max-width: 420px;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      box-shadow: 0 20px 80px rgba(0,0,0,0.6);
    }
    @media (max-width: 1100px) {
      .studio-layout { grid-template-columns: 1fr; }
      .status-banner { flex-direction: column; align-items: flex-start; }
      .banner-actions { width: 100%; flex-wrap: wrap; }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <header class="status-banner">
      <div class="status-copy">
        <span class="status-dot"></span>
        <div class="status-text">
          <h1 id="statusHeading">Select a video to get started</h1>
        </div>
      </div>
      <div class="banner-actions">
        <button class="primary.outlined">Login with TikTok</button>
        <button class="primary.ghost" id="generateBtn">Generate Video</button>
      </div>
    </header>

    <main class="studio-layout">
      <section class="card">
        <div class="preview-video">
          <video id="previewVideo" playsinline controls muted hidden></video>
          <div id="previewFallback" class="preview-placeholder">
            <span>▶</span>
            <p>Select or generate a video to see the preview.</p>
          </div>
        </div>
        <div class="preview-meta">
          <div id="previewDetails" class="preview-details">
            Generate or select a video to see file metadata.
          </div>
          <button class="primary.outlined" id="refreshPreview">Refresh preview</button>
        </div>
      </section>

      <section class="card">
        <div>
          <p class="text-xs" style="letter-spacing:0.2em; text-transform:uppercase; color: rgba(255,255,255,0.55);">Upload to TikTok</p>
          <h2>Review metadata & publish</h2>
        </div>

        <div>
          <label for="videoTitle">Caption</label>
          <input id="videoTitle" type="text" placeholder="Add a title that describes your video" required>
          <p class="privacy-hint">You can edit this text and remove any preset hashtags before publishing.</p>
        </div>

        <div>
          <label for="privacySelect">Who can view this video</label>
          <select id="privacySelect">
            <option value="">Select privacy status</option>
            <option value="PUBLIC">PUBLIC: Content is visible to everyone on TikTok.</option>
            <option value="PRIVATE">PRIVATE: Only the creator can view the content.</option>
            <option value="MUTUAL_FOLLOW_FRIENDS">MUTUAL_FOLLOW_FRIENDS: Visible only to users who mutually follow the creator.</option>
            <option value="SELF_ONLY">SELF_ONLY: Used in sandbox mode; content is restricted to the creator and not visible to others.</option>
          </select>
          <p id="privacyDisclaimer" class="privacy-hint">Choose one of the privacy levels returned by TikTok.</p>
        </div>

        <div>
          <label>Allow users to</label>
          <div class="interaction-row">
            <label><input type="checkbox" id="allowComments" checked> Comment</label>
            <label><input type="checkbox" id="allowDuet"> Duet</label>
            <label><input type="checkbox" id="allowStitch"> Stitch</label>
          </div>
        </div>

        <div class="status-area">
          <p id="postingNotice"></p>
          <p>After you finish publishing, TikTok may take a few minutes to process your video.</p>
          <div id="status">Ready.</div>
        </div>

        <div class="upload-actions">
          <button class="primary.ghost" id="uploadBtn">Upload Video</button>
        </div>
      </section>

      <section class="card disclosure-panel">
        <div class="panel-card-row" style="display:flex; justify-content:space-between; align-items:center;">
          <div>
            <h3>Disclose video content</h3>
            <p class="info-text">Turn on disclosure if this upload promotes goods or services.</p>
          </div>
          <label class="switch">
            <input type="checkbox" id="commercialToggle">
            <span class="slider"></span>
          </label>
        </div>
        <div id="commercialOptions" class="commercial-options" hidden>
          <label class="commercial-toggle">
            <input type="checkbox" id="commercialSelf">
            <span><strong>Your brand</strong> · You are promoting yourself or your own business. This video will be classified as Brand Organic.</span>
          </label>
          <label class="commercial-toggle">
            <input type="checkbox" id="commercialBrand">
            <span><strong>Branded content</strong> · You are promoting another brand or third party. This video will be classified as Branded Content.</span>
          </label>
          <p id="commercialPrompt" class="commercial-prompt"></p>
          <p id="commercialAlert" class="alert"></p>
        </div>

        <div style="display:flex;flex-direction:column;gap:0.75rem;">
          <label class="commercial-toggle">
            <input type="checkbox" id="musicConsent">
            <span>
              By posting, you agree to TikTok's
              <a class="policy-link" target="_blank" rel="noopener noreferrer" href="https://www.tiktok.com/legal/page/global/music-usage-confirmation/en">Music Usage Confirmation</a>.
            </span>
          </label>
          <label class="commercial-toggle">
            <input type="checkbox" id="privateAccountConfirm">
            <span>My TikTok profile is private and I will keep visibility set to “Only You”.</span>
          </label>
        </div>

        <div class="requirements-card">
          <h3>Private-mode sandbox</h3>
          <p>This demo works only with TikTok profiles set to private and videos published as “Only You”.</p>
          <ul>
            <li>Switch your TikTok account to Private.</li>
            <li>Keep visibility locked to “Only You”.</li>
            <li>Confirm Music Usage and disclosure policies.</li>
          </ul>
        </div>
      </section>
    </main>
  </div>

  <section id="successPanel" class="success-panel">
    <div class="success-modal">
      <h1>Upload initiated</h1>
      <p>Please allow a few minutes for TikTok to finish processing. Once complete, you can view the video on your channel’s private tab.</p>
      <button class="primary.ghost">Return to homepage</button>
    </div>
  </section>

  <script>
    const statusHeading = document.getElementById("statusHeading");
    const previewVideo = document.getElementById("previewVideo");
    const previewFallback = document.getElementById("previewFallback");
    const generateBtn = document.getElementById("generateBtn");
    const previewSection = document.querySelector(".preview-panel");
    const successPanel = document.getElementById("successPanel");
    const uploadBtn = document.getElementById("uploadBtn");

    generateBtn?.addEventListener("click", () => {
      statusHeading.textContent = "Your video is ready!";
      previewSection?.removeAttribute("hidden");
      previewVideo?.removeAttribute("hidden");
      previewFallback?.classList.add("hidden");
    });

    uploadBtn?.addEventListener("click", () => {
      successPanel?.classList.add("show");
    });

    successPanel?.addEventListener("click", (event) => {
      if (event.target === successPanel) {
        successPanel.classList.remove("show");
      }
    });
  </script>
</body>
</html>
